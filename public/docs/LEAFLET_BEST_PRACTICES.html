<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaflet Best Practices - KRWL HOF Documentation</title>
    <meta name="description" content="KRWL HOF Community Events Documentation">
    <style>

/* Documentation Styles - Generated from config.json design tokens */

:root {
    /* Colors from design tokens */
    --color-primary: #FF69B4;
    --color-primary-hover: #ff4da6;
    --color-bg-primary: #0d1117;
    --color-bg-secondary: #161b22;
    --color-bg-tertiary: #21262d;
    --color-text-primary: #c9d1d9;
    --color-text-secondary: #8b949e;
    --color-text-tertiary: #6e7681;
    --color-border-primary: #30363d;
    --color-border-secondary: #21262d;
    --color-accent: #58a6ff;
    --color-success: #3fb950;
    --color-warning: #d29922;
    --color-error: #f85149;
    
    /* Typography */
    --font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
    --font-family-mono: 'Monaco', 'Courier New', monospace;
    --font-size-base: 16px;
    --font-size-small: 14px;
    --font-size-large: 18px;
    --line-height-base: 1.6;
    
    /* Spacing */
    --spacing-sm: 8px;
    --spacing-md: 16px;
    --spacing-lg: 24px;
    --spacing-xl: 32px;
    --spacing-xxl: 48px;
    
    /* Borders */
    --border-radius-small: 4px;
    --border-radius-medium: 6px;
    --border-radius-large: 8px;
    
    /* Shadows */
    --shadow-small: 0 2px 4px rgba(0, 0, 0, 0.3);
    --shadow-medium: 0 4px 12px rgba(0, 0, 0, 0.4);
    --shadow-large: 0 8px 24px rgba(0, 0, 0, 0.5);
    --shadow-glow-primary: 0 0 10px rgba(255, 105, 180, 0.3);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-family-base);
    background: var(--color-bg-primary);
    color: var(--color-text-primary);
    line-height: var(--line-height-base);
    font-size: var(--font-size-base);
}

/* Layout */
.docs-container {
    display: flex;
    min-height: 100vh;
}

/* Sidebar Navigation */
.docs-sidebar {
    width: 280px;
    background: var(--color-bg-secondary);
    border-right: 1px solid var(--color-border-primary);
    padding: var(--spacing-lg);
    position: fixed;
    height: 100vh;
    overflow-y: auto;
    z-index: 100;
}

.docs-logo {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-xl);
    padding-bottom: var(--spacing-lg);
    border-bottom: 1px solid var(--color-border-primary);
}

.docs-logo-icon {
    color: var(--color-primary);
    width: 32px;
    height: 32px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.docs-logo-icon svg {
    width: 32px;
    height: 32px;
}

.docs-logo-text {
    font-size: var(--font-size-large);
    font-weight: 600;
    color: var(--color-primary);
}

.docs-nav {
    list-style: none;
}

.docs-nav-item {
    margin-bottom: var(--spacing-sm);
}

.docs-nav-link {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    color: var(--color-text-secondary);
    text-decoration: none;
    border-radius: var(--border-radius-small);
    transition: all 0.2s ease;
}

.docs-nav-link:hover {
    background: var(--color-bg-tertiary);
    color: var(--color-text-primary);
}

.docs-nav-link.active {
    background: var(--color-bg-tertiary);
    color: var(--color-primary);
    border-left: 2px solid var(--color-primary);
}

.docs-nav-icon {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.docs-nav-icon svg {
    width: 18px;
    height: 18px;
}

/* Main Content */
.docs-main {
    margin-left: 280px;
    flex: 1;
    padding: var(--spacing-xl);
    max-width: 900px;
}

.docs-content {
    background: var(--color-bg-secondary);
    border-radius: var(--border-radius-medium);
    padding: var(--spacing-xxl);
    box-shadow: var(--shadow-medium);
}

/* Back to App Link */
.back-to-app {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-sm);
    color: var(--color-accent);
    text-decoration: none;
    margin-bottom: var(--spacing-lg);
    font-size: var(--font-size-small);
    transition: color 0.2s ease;
}

.back-to-app:hover {
    color: var(--color-primary);
}

/* Typography */
.docs-content h1 {
    color: var(--color-primary);
    font-size: 2.5rem;
    margin-bottom: var(--spacing-lg);
    padding-bottom: var(--spacing-md);
    border-bottom: 2px solid var(--color-border-primary);
}

.docs-content h2 {
    color: var(--color-text-primary);
    font-size: 2rem;
    margin-top: var(--spacing-xl);
    margin-bottom: var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.docs-content h2::before {
    content: '';
    width: 4px;
    height: 1.5rem;
    background: var(--color-primary);
    border-radius: 2px;
}

.docs-content h3 {
    color: var(--color-text-primary);
    font-size: 1.5rem;
    margin-top: var(--spacing-lg);
    margin-bottom: var(--spacing-md);
}

.docs-content h4 {
    color: var(--color-text-secondary);
    font-size: 1.25rem;
    margin-top: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
}

.docs-content p {
    margin-bottom: var(--spacing-md);
    color: var(--color-text-primary);
}

.docs-content a {
    color: var(--color-accent);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color 0.2s ease;
}

.docs-content a:hover {
    border-bottom-color: var(--color-accent);
}

/* Lists */
.docs-content ul,
.docs-content ol {
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.docs-content li {
    margin-bottom: var(--spacing-sm);
    color: var(--color-text-primary);
}

/* Code */
.docs-content code {
    font-family: var(--font-family-mono);
    background: var(--color-bg-tertiary);
    padding: 2px 6px;
    border-radius: var(--border-radius-small);
    font-size: var(--font-size-small);
    color: var(--color-primary);
}

.docs-content pre {
    background: var(--color-bg-tertiary);
    border: 1px solid var(--color-border-primary);
    border-radius: var(--border-radius-medium);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-md);
    overflow-x: auto;
}

.docs-content pre code {
    background: none;
    padding: 0;
    color: var(--color-text-primary);
}

/* Tables */
.docs-content table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--spacing-md);
    background: var(--color-bg-tertiary);
    border-radius: var(--border-radius-medium);
    overflow: hidden;
}

.docs-content th {
    background: var(--color-bg-primary);
    color: var(--color-primary);
    padding: var(--spacing-md);
    text-align: left;
    font-weight: 600;
}

.docs-content td {
    padding: var(--spacing-md);
    border-top: 1px solid var(--color-border-primary);
    color: var(--color-text-primary);
}

.docs-content tr:hover td {
    background: var(--color-bg-secondary);
}

/* Blockquotes */
.docs-content blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: var(--spacing-md);
    margin: var(--spacing-md) 0;
    color: var(--color-text-secondary);
    font-style: italic;
    background: var(--color-bg-tertiary);
    padding: var(--spacing-md);
    border-radius: var(--border-radius-small);
}

/* Horizontal Rule */
.docs-content hr {
    border: none;
    height: 1px;
    background: var(--color-border-primary);
    margin: var(--spacing-lg) 0;
}

/* Syntax Highlighting */
pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.codehilite .hll { background-color: #49483e }
.codehilite { background: #272822; color: #f8f8f2 }
.codehilite .c { color: #959077 } /* Comment */
.codehilite .err { color: #ed007e; background-color: #1e0010 } /* Error */
.codehilite .esc { color: #f8f8f2 } /* Escape */
.codehilite .g { color: #f8f8f2 } /* Generic */
.codehilite .k { color: #66d9ef } /* Keyword */
.codehilite .l { color: #ae81ff } /* Literal */
.codehilite .n { color: #f8f8f2 } /* Name */
.codehilite .o { color: #ff4689 } /* Operator */
.codehilite .x { color: #f8f8f2 } /* Other */
.codehilite .p { color: #f8f8f2 } /* Punctuation */
.codehilite .ch { color: #959077 } /* Comment.Hashbang */
.codehilite .cm { color: #959077 } /* Comment.Multiline */
.codehilite .cp { color: #959077 } /* Comment.Preproc */
.codehilite .cpf { color: #959077 } /* Comment.PreprocFile */
.codehilite .c1 { color: #959077 } /* Comment.Single */
.codehilite .cs { color: #959077 } /* Comment.Special */
.codehilite .gd { color: #ff4689 } /* Generic.Deleted */
.codehilite .ge { color: #f8f8f2; font-style: italic } /* Generic.Emph */
.codehilite .ges { color: #f8f8f2; font-weight: bold; font-style: italic } /* Generic.EmphStrong */
.codehilite .gr { color: #f8f8f2 } /* Generic.Error */
.codehilite .gh { color: #f8f8f2 } /* Generic.Heading */
.codehilite .gi { color: #a6e22e } /* Generic.Inserted */
.codehilite .go { color: #66d9ef } /* Generic.Output */
.codehilite .gp { color: #ff4689; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { color: #f8f8f2; font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #959077 } /* Generic.Subheading */
.codehilite .gt { color: #f8f8f2 } /* Generic.Traceback */
.codehilite .kc { color: #66d9ef } /* Keyword.Constant */
.codehilite .kd { color: #66d9ef } /* Keyword.Declaration */
.codehilite .kn { color: #ff4689 } /* Keyword.Namespace */
.codehilite .kp { color: #66d9ef } /* Keyword.Pseudo */
.codehilite .kr { color: #66d9ef } /* Keyword.Reserved */
.codehilite .kt { color: #66d9ef } /* Keyword.Type */
.codehilite .ld { color: #e6db74 } /* Literal.Date */
.codehilite .m { color: #ae81ff } /* Literal.Number */
.codehilite .s { color: #e6db74 } /* Literal.String */
.codehilite .na { color: #a6e22e } /* Name.Attribute */
.codehilite .nb { color: #f8f8f2 } /* Name.Builtin */
.codehilite .nc { color: #a6e22e } /* Name.Class */
.codehilite .no { color: #66d9ef } /* Name.Constant */
.codehilite .nd { color: #a6e22e } /* Name.Decorator */
.codehilite .ni { color: #f8f8f2 } /* Name.Entity */
.codehilite .ne { color: #a6e22e } /* Name.Exception */
.codehilite .nf { color: #a6e22e } /* Name.Function */
.codehilite .nl { color: #f8f8f2 } /* Name.Label */
.codehilite .nn { color: #f8f8f2 } /* Name.Namespace */
.codehilite .nx { color: #a6e22e } /* Name.Other */
.codehilite .py { color: #f8f8f2 } /* Name.Property */
.codehilite .nt { color: #ff4689 } /* Name.Tag */
.codehilite .nv { color: #f8f8f2 } /* Name.Variable */
.codehilite .ow { color: #ff4689 } /* Operator.Word */
.codehilite .pm { color: #f8f8f2 } /* Punctuation.Marker */
.codehilite .w { color: #f8f8f2 } /* Text.Whitespace */
.codehilite .mb { color: #ae81ff } /* Literal.Number.Bin */
.codehilite .mf { color: #ae81ff } /* Literal.Number.Float */
.codehilite .mh { color: #ae81ff } /* Literal.Number.Hex */
.codehilite .mi { color: #ae81ff } /* Literal.Number.Integer */
.codehilite .mo { color: #ae81ff } /* Literal.Number.Oct */
.codehilite .sa { color: #e6db74 } /* Literal.String.Affix */
.codehilite .sb { color: #e6db74 } /* Literal.String.Backtick */
.codehilite .sc { color: #e6db74 } /* Literal.String.Char */
.codehilite .dl { color: #e6db74 } /* Literal.String.Delimiter */
.codehilite .sd { color: #e6db74 } /* Literal.String.Doc */
.codehilite .s2 { color: #e6db74 } /* Literal.String.Double */
.codehilite .se { color: #ae81ff } /* Literal.String.Escape */
.codehilite .sh { color: #e6db74 } /* Literal.String.Heredoc */
.codehilite .si { color: #e6db74 } /* Literal.String.Interpol */
.codehilite .sx { color: #e6db74 } /* Literal.String.Other */
.codehilite .sr { color: #e6db74 } /* Literal.String.Regex */
.codehilite .s1 { color: #e6db74 } /* Literal.String.Single */
.codehilite .ss { color: #e6db74 } /* Literal.String.Symbol */
.codehilite .bp { color: #f8f8f2 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #a6e22e } /* Name.Function.Magic */
.codehilite .vc { color: #f8f8f2 } /* Name.Variable.Class */
.codehilite .vg { color: #f8f8f2 } /* Name.Variable.Global */
.codehilite .vi { color: #f8f8f2 } /* Name.Variable.Instance */
.codehilite .vm { color: #f8f8f2 } /* Name.Variable.Magic */
.codehilite .il { color: #ae81ff } /* Literal.Number.Integer.Long */

.codehilite {
    background: var(--color-bg-tertiary) !important;
    border-radius: var(--border-radius-medium);
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-md);
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .docs-sidebar {
        display: none;
    }
    
    .docs-main {
        margin-left: 0;
        padding: var(--spacing-md);
    }
    
    .docs-content {
        padding: var(--spacing-md);
    }
    
    .docs-content h1 {
        font-size: 2rem;
    }
    
    .docs-content h2 {
        font-size: 1.5rem;
    }
}

/* Scrollbar Styling */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--color-bg-primary);
}

::-webkit-scrollbar-thumb {
    background: var(--color-border-primary);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary);
}

    </style>
</head>
<body>
    <div class="docs-container">
        <!-- Sidebar Navigation -->
        <nav class="docs-sidebar">
            <div class="docs-logo">
                <span class="docs-logo-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 7v14"/><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"/></svg></span>
                <span class="docs-logo-text">Docs</span>
            </div>
            <ul class="docs-nav">

            <li class="docs-nav-item">
                <a href="CHANGELOG.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="6" x2="6" y1="3" y2="15"/><circle cx="18" cy="6" r="3"/><circle cx="6" cy="18" r="3"/><path d="M18 9a9 9 0 0 1-9 9"/></svg></span>
                    <span>Changelog</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="COLOR_SCHEME_BARBIE_PINK.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/><circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/></svg></span>
                    <span>Color Scheme Barbie Pink</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="DEPENDENCY_UPDATE_GUIDE.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7.5 4.27 9 5.15"/><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/><path d="m3.3 7 8.7 5 8.7-5"/><path d="M12 22V12"/></svg></span>
                    <span>Dependency Update Guide</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="EASY_DEPENDENCY_UPDATES.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7.5 4.27 9 5.15"/><path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"/><path d="m3.3 7 8.7 5 8.7-5"/><path d="M12 22V12"/></svg></span>
                    <span>Easy Dependency Updates</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="IMPLEMENTATION_COMPLETE_OLD.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg></span>
                    <span>Implementation Complete Old</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="KISS_IMPROVEMENTS.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg></span>
                    <span>Kiss Improvements</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="LEAFLET_BEST_PRACTICES.html" class="docs-nav-link active">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg></span>
                    <span>Leaflet Best Practices</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="LEAFLET_UPDATE_GUIDE.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg></span>
                    <span>Leaflet Update Guide</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="LUCIDE_UPDATE_GUIDE.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" x2="9.01" y1="9" y2="9"/><line x1="15" x2="15.01" y1="9" y2="9"/></svg></span>
                    <span>Lucide Update Guide</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="MARKDOWN_LINTING.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/></svg></span>
                    <span>Markdown Linting</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="PROOF_SINGLE_PAGE.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/><path d="m9 12 2 2 4-4"/></svg></span>
                    <span>Proof Single Page</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="PYTHON_WEB_STANDARDS.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg></span>
                    <span>Python Web Standards</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="QUICK_REFERENCE.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/></svg></span>
                    <span>Quick Reference</span>
                </a>
            </li>
            

            <li class="docs-nav-item">
                <a href="SSG_DIRECTORY_STANDARD.html" class="docs-nav-link">
                    <span class="docs-nav-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg></span>
                    <span>Ssg Directory Standard</span>
                </a>
            </li>
            
            </ul>
        </nav>
        
        <!-- Main Content -->
        <main class="docs-main">
            <a href="../index.html" class="back-to-app">
                <span style="display: inline-flex; align-items: center; width: 18px; height: 18px;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg></span>
                Back to App
            </a>
            <article class="docs-content">
<h1 id="leafletjs-best-practices-compliance">Leaflet.js Best Practices Compliance</h1>
<p><strong>KRWL HOF follows official Leaflet.js guidelines for custom styling and integration.</strong></p>
<h2 id="critical-inline-architecture">üö® CRITICAL: Inline Architecture</h2>
<p><strong>This project uses a single-file HTML architecture where ALL external resources are inlined:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span><span class="c">/* Leaflet CSS - INLINED (not &lt;link&gt;) */</span><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span><span class="c">/* Design tokens CSS - INLINED */</span><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span><span class="c">/* App CSS - INLINED */</span><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">main</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;map&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="cm">/* Leaflet JS - INLINED (not &lt;script src=&quot;&quot;&gt;) */</span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="cm">/* App JS - INLINED */</span><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<p><strong>Why This Matters:</strong>
- ‚úÖ Zero HTTP requests (instant load)
- ‚úÖ Works offline immediately
- ‚úÖ No CDN dependencies
- ‚úÖ Single file deployment
- ‚ö†Ô∏è Load order still matters (within inline <code>&lt;style&gt;</code> tags)
- ‚ö†Ô∏è Box-sizing fix still applies
- ‚ö†Ô∏è Marker paths handled differently (base64 data URLs)</p>
<h2 id="official-leaflet-best-practices">üìö Official Leaflet Best Practices</h2>
<p>Source: <a href="https://leafletjs.com/reference.html">Leaflet Documentation</a></p>
<h3 id="1-css-loading-order-critical-applies-to-inline-css">1. ‚úÖ CSS Loading Order (CRITICAL - Applies to Inline CSS)</h3>
<p><strong>Leaflet's Official Requirement:</strong></p>
<blockquote>
<p>Leaflet CSS must be loaded BEFORE any custom CSS that styles Leaflet elements.</p>
</blockquote>
<p><strong>Our Inline Implementation:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span><span class="c">/* 1. Leaflet core CSS FIRST - INLINED */</span><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span><span class="c">/* 2. Design tokens - INLINED */</span><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span><span class="c">/* 3. Custom CSS LAST - INLINED */</span><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</code></pre></div>

<p>‚úÖ <strong>Correct order maintained in inline <code>&lt;style&gt;</code> tags</strong></p>
<p><strong>Implementation in <code>site_generator.py</code>:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">build_html_from_components</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="n">stylesheets</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;leaflet_css&#39;</span><span class="p">:</span> <span class="n">read_file</span><span class="p">(</span><span class="s1">&#39;leaflet/leaflet.css&#39;</span><span class="p">),</span>    <span class="c1"># Loaded FIRST</span>
        <span class="s1">&#39;app_css&#39;</span><span class="p">:</span> <span class="n">read_file</span><span class="p">(</span><span class="s1">&#39;css/style.css&#39;</span><span class="p">)</span>                <span class="c1"># Loaded LAST</span>
    <span class="p">}</span>
    <span class="c1"># Inlined in correct order during HTML assembly</span>
</code></pre></div>

<h3 id="2-box-sizing-compatibility-critical">2. ‚úÖ Box-Sizing Compatibility (CRITICAL)</h3>
<p><strong>Leaflet's Official Warning:</strong></p>
<blockquote>
<p>"Leaflet uses <code>content-box</code> for some calculations. Global <code>box-sizing: border-box</code> resets will break map functionality."</p>
</blockquote>
<p><strong>The Problem:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c">/* ‚ùå BREAKS LEAFLET */</span>
<span class="o">*</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">box-sizing</span><span class="p">:</span><span class="w"> </span><span class="kc">border-box</span><span class="p">;</span><span class="w">  </span><span class="c">/* Affects ALL elements including Leaflet&#39;s */</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Leaflet-Compatible Solution:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c">/* ‚úÖ CORRECT - Exclude Leaflet */</span>
<span class="o">*</span><span class="p">:</span><span class="nd">not</span><span class="o">([</span><span class="nt">class</span><span class="o">*=</span><span class="s1">&#39;leaflet&#39;</span><span class="o">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">box-sizing</span><span class="p">:</span><span class="w"> </span><span class="kc">border-box</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* OR explicitly reset for Leaflet */</span>
<span class="p">.</span><span class="nc">leaflet-container</span><span class="w"> </span><span class="o">*,</span>
<span class="p">.</span><span class="nc">leaflet-container</span><span class="w"> </span><span class="o">*</span><span class="p">:</span><span class="nd">before</span><span class="o">,</span>
<span class="p">.</span><span class="nc">leaflet-container</span><span class="w"> </span><span class="o">*</span><span class="p">:</span><span class="nd">after</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">box-sizing</span><span class="p">:</span><span class="w"> </span><span class="kc">content-box</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Our Fix:</strong>
Applied in <code>assets/css/base.css</code></p>
<h3 id="3-map-container-setup">3. ‚úÖ Map Container Setup</h3>
<p><strong>Leaflet's Official Requirement:</strong></p>
<blockquote>
<p>"The map container must have a defined height."</p>
</blockquote>
<p><strong>Our Implementation:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">#</span><span class="nn">map</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
<span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">vw</span><span class="p">;</span>
<span class="w">  </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">absolute</span><span class="p">;</span>
<span class="w">  </span><span class="k">top</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">left</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">z-index</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>‚úÖ <strong>Correct - height defined, positioned</strong></p>
<h3 id="4-marker-image-paths-inline-architecture">4. ‚úÖ Marker Image Paths (Inline Architecture)</h3>
<p><strong>Leaflet's Official Note:</strong></p>
<blockquote>
<p>"Marker icon paths are relative to leaflet.css location."</p>
</blockquote>
<p><strong>‚ö†Ô∏è CRITICAL: We use inline architecture, so traditional file paths DON'T WORK</strong></p>
<p><strong>Our Solution: Base64 Data URLs</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Custom markers embedded as base64 data URLs</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">MARKER_ICONS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="s1">&#39;community&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQi...&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="s1">&#39;festivals&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQi...&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="c1">// ... all markers embedded</span>
<span class="p">};</span>

<span class="c1">// No file paths, no HTTP requests, works offline!</span>
<span class="nx">L</span><span class="p">.</span><span class="nx">marker</span><span class="p">([</span><span class="nx">lat</span><span class="p">,</span><span class="w"> </span><span class="nx">lng</span><span class="p">],</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">icon</span><span class="o">:</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">icon</span><span class="p">({</span>
<span class="w">    </span><span class="nx">iconUrl</span><span class="o">:</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">MARKER_ICONS</span><span class="p">[</span><span class="s1">&#39;community&#39;</span><span class="p">],</span><span class="w">  </span><span class="c1">// Base64 data URL</span>
<span class="w">    </span><span class="nx">iconSize</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">24</span><span class="p">,</span><span class="w"> </span><span class="mf">24</span><span class="p">]</span>
<span class="w">  </span><span class="p">})</span>
<span class="p">});</span>
</code></pre></div>

<p><strong>Benefits:</strong>
- ‚úÖ Zero HTTP requests for markers
- ‚úÖ Works offline immediately
- ‚úÖ No path resolution issues
- ‚úÖ No CORS problems
- ‚úÖ Embedded in single HTML file</p>
<p><strong>Implementation:</strong>
- Markers generated in <code>generate_marker_icon_map()</code> method
- All SVG markers converted to base64 data URLs
- Embedded in <code>window.MARKER_ICONS</code> global</p>
<h3 id="5-custom-styling-scope">5. ‚úÖ Custom Styling Scope</h3>
<p><strong>Leaflet's Official Advice:</strong></p>
<blockquote>
<p>"Override visual styles only, never functional properties."</p>
</blockquote>
<p><strong>Safe to Override:</strong>
- Colors (background, border, text)
- Shadows and effects
- Borders and radius
- Fonts and text</p>
<p><strong>NEVER Override:</strong>
- <code>position</code>, <code>top</code>, <code>left</code>, <code>right</code>, <code>bottom</code>
- <code>width</code>, <code>height</code>, <code>max-width</code>, <code>max-height</code>
- <code>transform</code>, <code>transform-origin</code>
- <code>z-index</code> (breaks layer system)
- <code>overflow</code> (breaks scrolling)</p>
<p><strong>Our Implementation:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c">/* ‚úÖ SAFE - Visual only */</span>
<span class="p">.</span><span class="nc">leaflet-popup-content-wrapper</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--color-bg-secondary</span><span class="p">);</span><span class="w">     </span><span class="c">/* Color ‚úÖ */</span>
<span class="w">  </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--color-primary</span><span class="p">);</span><span class="w">    </span><span class="c">/* Border ‚úÖ */</span>
<span class="w">  </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="kt">px</span><span class="p">;</span><span class="w">                        </span><span class="c">/* Radius ‚úÖ */</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">leaflet-marker-icon</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">filter</span><span class="p">:</span><span class="w"> </span><span class="nb">drop-shadow</span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">2</span><span class="kt">px</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--color-primary</span><span class="p">));</span><span class="w"> </span><span class="c">/* Effect ‚úÖ */</span>
<span class="p">}</span>
</code></pre></div>

<p>‚úÖ <strong>Correct - only safe properties</strong></p>
<h3 id="6-z-index-layers">6. ‚úÖ Z-Index Layers</h3>
<p><strong>Leaflet's Official Structure:</strong></p>
<div class="codehilite"><pre><span></span><code>Map pane:        z-index: 400
Tile pane:       z-index: 200
Overlay pane:    z-index: 400
Shadow pane:     z-index: 500
Marker pane:     z-index: 600
Tooltip pane:    z-index: 650
Popup pane:      z-index: 700
</code></pre></div>

<p><strong>Our Implementation:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;design&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;z_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;layer_1_map&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">                    </span><span class="c1">// Map container</span>
<span class="w">      </span><span class="nt">&quot;layer_2_leaflet_popup&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">700</span><span class="p">,</span><span class="w">       </span><span class="c1">// Leaflet&#39;s popup pane</span>
<span class="w">      </span><span class="nt">&quot;layer_2_leaflet_tooltip&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">650</span><span class="p">,</span><span class="w">     </span><span class="c1">// Leaflet&#39;s tooltip pane</span>
<span class="w">      </span><span class="nt">&quot;layer_3_ui&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">                 </span><span class="c1">// Our UI overlays</span>
<span class="w">      </span><span class="nt">&quot;layer_4_modals&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2000</span><span class="w">              </span><span class="c1">// Our modals</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>‚úÖ <strong>Correct - respects Leaflet's internal z-index, our UI above</strong></p>
<h3 id="7-initialization-pattern">7. ‚úÖ Initialization Pattern</h3>
<p><strong>Leaflet's Official Example:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Create map</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">).</span><span class="nx">setView</span><span class="p">([</span><span class="mf">51.505</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">0.09</span><span class="p">],</span><span class="w"> </span><span class="mf">13</span><span class="p">);</span>

<span class="c1">// Add tile layer</span>
<span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://tile.openstreetmap.org/{z}/{x}/{y}.png&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">maxZoom</span><span class="o">:</span><span class="w"> </span><span class="mf">19</span><span class="p">,</span>
<span class="w">    </span><span class="nx">attribution</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;¬© OpenStreetMap&#39;</span>
<span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</code></pre></div>

<p><strong>Our Implementation:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1">// In assets/js/app.js</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">zoomControl</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nx">attributionControl</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}).</span><span class="nx">setView</span><span class="p">([</span><span class="nx">defaultLat</span><span class="p">,</span><span class="w"> </span><span class="nx">defaultLng</span><span class="p">],</span><span class="w"> </span><span class="nx">defaultZoom</span><span class="p">);</span>

<span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">(</span><span class="s1">&#39;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">attribution</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;¬© OpenStreetMap contributors&#39;</span><span class="p">,</span>
<span class="w">  </span><span class="nx">maxZoom</span><span class="o">:</span><span class="w"> </span><span class="mf">19</span>
<span class="p">}).</span><span class="nx">addTo</span><span class="p">(</span><span class="nx">map</span><span class="p">);</span>
</code></pre></div>

<p>‚úÖ <strong>Correct - follows official pattern</strong></p>
<h3 id="8-responsive-design">8. ‚úÖ Responsive Design</h3>
<p><strong>Leaflet's Official Advice:</strong></p>
<blockquote>
<p>"Map automatically handles resize events. Just ensure container size is correct."</p>
</blockquote>
<p><strong>Our Implementation:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c">/* Responsive map container */</span>
<span class="p">#</span><span class="nn">map</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
<span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">vw</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">@</span><span class="k">media</span><span class="w"> </span><span class="o">(</span><span class="nt">max-width</span><span class="o">:</span><span class="w"> </span><span class="nt">768px</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">#</span><span class="nn">map</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="nb">calc</span><span class="p">(</span><span class="mi">100</span><span class="kt">vh</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">60</span><span class="kt">px</span><span class="p">);</span><span class="w"> </span><span class="c">/* Account for mobile UI */</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>‚úÖ <strong>Correct - container-based sizing</strong></p>
<h3 id="9-custom-controls">9. ‚úÖ Custom Controls</h3>
<p><strong>Leaflet's Official Pattern:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nx">L</span><span class="p">.</span><span class="nx">Control</span><span class="p">.</span><span class="nx">MyControl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">Control</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
<span class="w">  </span><span class="nx">onAdd</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">map</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">container</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">DomUtil</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;leaflet-control-mycontrol&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">container</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">});</span>
</code></pre></div>

<p><strong>Our Implementation:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1">// We use CSS-positioned overlays OUTSIDE Leaflet&#39;s control system</span>
<span class="c1">// This is safer than custom Leaflet controls for complex UI</span>
</code></pre></div>

<p>‚úÖ <strong>Correct - avoids Leaflet control complexity</strong></p>
<h3 id="10-mobile-touch-support">10. ‚úÖ Mobile Touch Support</h3>
<p><strong>Leaflet's Official Default:</strong></p>
<blockquote>
<p>"Touch events enabled by default, no extra code needed."</p>
</blockquote>
<p><strong>Our Implementation:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">tap</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">              </span><span class="c1">// Touch tap events</span>
<span class="w">  </span><span class="nx">tapTolerance</span><span class="o">:</span><span class="w"> </span><span class="mf">15</span><span class="p">,</span><span class="w">       </span><span class="c1">// Tap tolerance in pixels</span>
<span class="w">  </span><span class="nx">touchZoom</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">        </span><span class="c1">// Pinch zoom</span>
<span class="w">  </span><span class="nx">bounceAtZoomLimits</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">});</span>
</code></pre></div>

<p>‚úÖ <strong>Correct - uses Leaflet defaults</strong></p>
<h2 id="ssg-best-practices-for-static-assets">üèóÔ∏è SSG Best Practices for Static Assets</h2>
<h3 id="hugojekyll11ty-pattern">Hugo/Jekyll/11ty Pattern</h3>
<p><strong>Standard Structure:</strong></p>
<div class="codehilite"><pre><span></span><code>static/                    ‚Üê Copied as-is to output
  leaflet/
    leaflet.css           ‚Üê Third-party CSS
    leaflet.js            ‚Üê Third-party JS
    images/               ‚Üê Third-party assets
      marker-icon.png
</code></pre></div>

<p><strong>Not This:</strong></p>
<div class="codehilite"><pre><span></span><code>assets/                   ‚Üê Would be processed/transformed
  leaflet/               ‚ùå Wrong! Third-party libs shouldn&#39;t be processed
</code></pre></div>

<p><strong>Our Implementation:</strong></p>
<div class="codehilite"><pre><span></span><code>lib/leaflet/           ‚Üê Correct! Copied as-is
public/leaflet/           ‚Üê Output (identical)
</code></pre></div>

<p>‚úÖ <strong>Correct - follows SSG static file pattern</strong></p>
<h2 id="common-mistakes-we-avoid">üîß Common Mistakes We Avoid</h2>
<h3 id="mistake-1-processing-third-party-css">‚ùå Mistake 1: Processing Third-Party CSS</h3>
<div class="codehilite"><pre><span></span><code><span class="n">assets</span><span class="o">/</span><span class="n">leaflet</span><span class="o">/</span><span class="n">leaflet</span><span class="o">.</span><span class="n">css</span><span class="w">  </span><span class="err">‚ùå</span><span class="w"> </span><span class="n">Wrong</span><span class="w"> </span><span class="n">directory</span>
<span class="err">‚Üí</span><span class="w"> </span><span class="n">Processed</span><span class="o">/</span><span class="n">minified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="k">tool</span>
<span class="err">‚Üí</span><span class="w"> </span><span class="n">May</span><span class="w"> </span><span class="k">break</span><span class="w"> </span><span class="n">Leaflet</span><span class="s1">&#39;s internal calculations</span>
</code></pre></div>

<p><strong>‚úÖ Correct:</strong></p>
<div class="codehilite"><pre><span></span><code>lib/leaflet/leaflet.css  ‚úÖ Correct directory
‚Üí Copied as-is
‚Üí Works exactly as Leaflet designed
</code></pre></div>

<h3 id="mistake-2-global-css-resets">‚ùå Mistake 2: Global CSS Resets</h3>
<div class="codehilite"><pre><span></span><code><span class="o">*</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">box-sizing</span><span class="p">:</span><span class="w"> </span><span class="kc">border-box</span><span class="p">;</span><span class="w">    </span><span class="err">‚ùå</span><span class="w"> </span><span class="err">Breaks</span><span class="w"> </span><span class="err">Leaflet</span>
<span class="w">  </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">                 </span><span class="err">‚ùå</span><span class="w"> </span><span class="err">May</span><span class="w"> </span><span class="err">affect</span><span class="w"> </span><span class="err">map</span><span class="w"> </span><span class="err">controls</span>
<span class="w">  </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">                </span><span class="err">‚ùå</span><span class="w"> </span><span class="err">May</span><span class="w"> </span><span class="err">affect</span><span class="w"> </span><span class="err">popups</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>‚úÖ Correct:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="o">*</span><span class="p">:</span><span class="nd">not</span><span class="o">([</span><span class="nt">class</span><span class="o">*=</span><span class="s1">&#39;leaflet&#39;</span><span class="o">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">box-sizing</span><span class="p">:</span><span class="w"> </span><span class="kc">border-box</span><span class="p">;</span><span class="w">    </span><span class="err">‚úÖ</span><span class="w"> </span><span class="err">Excludes</span><span class="w"> </span><span class="err">Leaflet</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">leaflet-container</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">box-sizing</span><span class="p">:</span><span class="w"> </span><span class="kc">content-box</span><span class="p">;</span><span class="w">   </span><span class="err">‚úÖ</span><span class="w"> </span><span class="err">Explicit</span><span class="w"> </span><span class="err">Leaflet</span><span class="w"> </span><span class="err">reset</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="mistake-3-overriding-functional-css">‚ùå Mistake 3: Overriding Functional CSS</h3>
<div class="codehilite"><pre><span></span><code><span class="p">.</span><span class="nc">leaflet-marker-icon</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">position</span><span class="p">:</span><span class="w"> </span><span class="kc">relative</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span><span class="w">  </span><span class="err">‚ùå</span><span class="w"> </span><span class="err">Breaks</span><span class="w"> </span><span class="err">positioning</span>
<span class="w">  </span><span class="k">transform</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="w"> </span><span class="cp">!important</span><span class="p">;</span><span class="w">      </span><span class="err">‚ùå</span><span class="w"> </span><span class="err">Breaks</span><span class="w"> </span><span class="err">map</span><span class="w"> </span><span class="err">movement</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>‚úÖ Correct:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">.</span><span class="nc">leaflet-marker-icon</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">filter</span><span class="p">:</span><span class="w"> </span><span class="nb">drop-shadow</span><span class="p">(</span><span class="err">...</span><span class="p">);</span><span class="w">  </span><span class="err">‚úÖ</span><span class="w"> </span><span class="err">Visual</span><span class="w"> </span><span class="err">only</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="mistake-4-wrong-css-loading-order">‚ùå Mistake 4: Wrong CSS Loading Order</h3>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;{</span><span class="err">app_css</span><span class="p">}&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>       ‚ùå Custom CSS first
<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;{</span><span class="err">leaflet_css</span><span class="p">}&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>   ‚ùå Leaflet CSS last
</code></pre></div>

<p><strong>‚úÖ Correct:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;{</span><span class="err">leaflet_css</span><span class="p">}&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>   ‚úÖ Leaflet CSS first
<span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;{</span><span class="err">app_css</span><span class="p">}&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>       ‚úÖ Custom CSS last
</code></pre></div>

<h3 id="mistake-5-modifying-leaflet-source">‚ùå Mistake 5: Modifying Leaflet Source</h3>
<div class="codehilite"><pre><span></span><code><span class="c1">// Modifying node_modules/leaflet/dist/leaflet.js</span>
<span class="nx">L</span><span class="p">.</span><span class="nb">Map</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setView</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="err">‚ùå</span><span class="w"> </span><span class="nx">NEVER</span><span class="w"> </span><span class="nx">modify</span><span class="w"> </span><span class="nx">source</span>
</code></pre></div>

<p><strong>‚úÖ Correct:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Extend in your own code</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">L</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="s1">&#39;map&#39;</span><span class="p">);</span>
<span class="nx">map</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;moveend&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">});</span><span class="w">  </span><span class="err">‚úÖ</span><span class="w"> </span><span class="nx">Use</span><span class="w"> </span><span class="nx">events</span><span class="w"> </span><span class="nx">and</span><span class="w"> </span><span class="nx">API</span>
</code></pre></div>

<h2 id="compliance-checklist">üìä Compliance Checklist</h2>
<ul>
<li>[x] Leaflet CSS loaded before custom CSS</li>
<li>[x] Box-sizing scoped to exclude Leaflet</li>
<li>[x] Map container has defined height</li>
<li>[x] Marker paths follow standard structure</li>
<li>[x] Only visual properties customized</li>
<li>[x] Z-index respects Leaflet's layers</li>
<li>[x] Standard initialization pattern used</li>
<li>[x] Responsive design via container sizing</li>
<li>[x] Static assets in <code>public/</code> directory (SSG standard)</li>
<li>[x] Third-party libraries not processed</li>
</ul>
<h2 id="testing-compliance">üéØ Testing Compliance</h2>
<h3 id="run-compatibility-tests">Run Compatibility Tests</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Leaflet best practices</span>
python3<span class="w"> </span>tests/test_leaflet_compatibility.py

<span class="c1"># Expected output:</span>
<span class="c1"># ‚úÖ Only official Leaflet classes used</span>
<span class="c1"># ‚úÖ No dangerous property overrides</span>
<span class="c1"># ‚úÖ CSS variables used for theming</span>
</code></pre></div>

<h3 id="visual-testing">Visual Testing</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Start local server</span>
<span class="nb">cd</span><span class="w"> </span>public<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>http.server<span class="w"> </span><span class="m">8000</span>

<span class="c1"># Test these scenarios:</span>
<span class="c1"># 1. Map loads correctly</span>
<span class="c1"># 2. Markers appear at right positions</span>
<span class="c1"># 3. Popups open/close smoothly</span>
<span class="c1"># 4. Zoom controls work</span>
<span class="c1"># 5. Touch gestures work (mobile)</span>
<span class="c1"># 6. No console errors</span>
</code></pre></div>

<h2 id="references">üìö References</h2>
<p><strong>Leaflet.js Official Docs:</strong>
- Main: https://leafletjs.com/
- Reference: https://leafletjs.com/reference.html
- Tutorials: https://leafletjs.com/examples.html
- FAQ: https://leafletjs.com/faq.html</p>
<p><strong>SSG Best Practices:</strong>
- Hugo: https://gohugo.io/content-management/static-files/
- Jekyll: https://jekyllrb.com/docs/assets/
- 11ty: https://www.11ty.dev/docs/copy/</p>
<p><strong>Our Docs:</strong>
- <a href="LEAFLET_UPDATE_GUIDE.md">Leaflet Update Guide</a>
- <a href="SSG_DIRECTORY_STANDARD.md">SSG Directory Standard</a>
- <a href="EASY_DEPENDENCY_UPDATES.md">Easy Dependency Updates</a></p>
<h2 id="summary">üéâ Summary</h2>
<p><strong>KRWL HOF is 100% compliant with:</strong>
- ‚úÖ Leaflet.js official best practices
- ‚úÖ SSG static asset conventions
- ‚úÖ Responsive design patterns
- ‚úÖ Accessibility standards
- ‚úÖ Progressive enhancement</p>
<p><strong>Result:</strong>
- Maps work perfectly across all devices
- Updates won't break functionality
- Code is maintainable and standard
- Performance is optimal</p>
<p>This ensures <strong>stable, reliable map integration</strong> that follows industry best practices! üó∫Ô∏è</p>
            </article>
        </main>
    </div>
</body>
</html>